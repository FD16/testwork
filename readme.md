# Инструкция по запуску playbook для установки и настройки Docker Swarm с контейнером Nginx

Для запуска playbook необходима система с установленным Ansible. Перед запуском необходимо подготовить 3 виртуальные машины с операционной системой Debian 12, и настроить root SSH доступ.

## Подготовка

1. Создайте 3 виртуальные машины с ОС Debian 12.
2. Запишите IP адреса каждой ноды в файл `/vars/vars.yml` (например, node1: ip_первой_ноды, node2: ip_второй_ноды, sshpwd: пароль_root_пользователя)
3. В файле `inventory.ini` укажите IP адрес каждой из нод в разделе `ansible_host` и укажите пароль пользователя root в `ansible_ssh_pass`. Также укажите IP адрес мастер-ноды в поле `master_ip`.

## Запуск playbook.yml

Выполните следующую команду для запуска playbook через Ansible:
bash
ansible-playbook -i inventory.ini playbook.yml


## Что делает playbook

При выполнении playbook'а будет выполнено следующее:
- Установка необходимых программ для работы Docker Swarm.
- Установка Docker на 3 ноды (мастер, воркер1, воркер2) с помощью Ansible.
- Подключение воркеров к мастеру.
- Деплой контейнера Nginx и добавление его в сервис Docker для обеспечения отказоустойчивости.
- Выполнение smoketest для проверки работоспособности контейнера Nginx.

## Результат

При успешном выполнении в конце вы должны получить сообщение: "Nginx контейнер работает успешно!"